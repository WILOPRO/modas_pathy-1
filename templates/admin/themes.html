{% extends 'admin/base_admin.html' %}

{% block title %}Temas — Modas Pathy{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="page-title">Temas</h1>
        <a href="{{ url_for('admin_theme_nuevo') }}" class="btn btn-primary">
            <i class="bi bi-plus-circle me-2"></i>Nuevo Tema
        </a>
    </div>

    <div class="theme-selector">
        {% for tema in temas %}
        <div class="theme-card {% if tema.is_default %}active{% endif %}">
            <div class="theme-colors">
                <div class="theme-color" style="background: {{ tema.primary }};"></div>
                <div class="theme-color" style="background: {{ tema.secondary }};"></div>
                <div class="theme-color" style="background: {{ tema.accent }};"></div>
                <div class="theme-color" style="background: {{ tema.text_color }};"></div>
                <div class="theme-color" style="background: {{ tema.bg_color }}; border: 1px solid #ddd;"></div>
            </div>
            
            <div class="theme-name">{{ tema.name }}</div>
            
            <div class="d-flex gap-2 mt-3">
                {% if not tema.is_default %}
                <form action="{{ url_for('admin_theme_activar') }}" method="post" class="flex-grow-1">
                    <input type="hidden" name="theme_id" value="{{ tema.id }}">
                    <button type="submit" class="btn btn-sm btn-primary btn-block">Activar</button>
                </form>
                {% endif %}
                
                <a href="{{ url_for('admin_theme_editar', id=tema.id) }}" class="btn btn-sm btn-outline">
                    <i class="bi bi-pencil"></i>
                </a>
                
                {% if not tema.is_default %}
                <form action="{{ url_for('admin_theme_eliminar', id=tema.id) }}" 
                      method="post"
                      onsubmit="return confirm('¿Eliminar este tema?');">
                    <button type="submit" class="btn btn-sm btn-outline" style="color: var(--error);">
                        <i class="bi bi-trash"></i>
                    </button>
                </form>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
